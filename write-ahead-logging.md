# Write-Ahead Logging 的本质还是优化写磁盘操作

### 对 DB 的修改直接写回磁盘有什么问题？
直接写回磁盘，涉及写数据，写索引，有顺序写，也有随机写，随机写性能差。

### 先写 log 能解决这个问题？（虽然是两次写回磁盘，首次是顺序写，二次是合并随机写）
写 log 是顺序写，性能比随机写高很多。
因此，先顺序写回 log，保证可靠性。
对 db 的修改放在缓存中
然后按照一定机制，刷回磁盘，虽然是随机写，但可将多次修改合并在一次写操作中。

